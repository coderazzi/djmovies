{% extends "generic.html" %}
{% block title %}Locations{% endblock %}
{% block body %}
	{% if locations %}
	
	<div id='input_path' class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<form action='{%url "#locations_sync" %}' method='POST'>{% csrf_token %}
					<input id='input_path_id' type='hidden' name='location.id'>
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h5>Synchronize location</h5>
					</div>
					<div class="modal-body">
 						<input name='location.path' type='text' placeholder='full path to location'>
					</div>
					<div class="modal-footer">
						<button type='submit' id='location-search-button' class="btn btn-primary">Process path</button>
					</div>			
				</form>
			</div>
		</div>
	</div>


	<table id='locations' class='table table-striped table-hover'>
		<caption>Locations</caption>
		<thead>
			<tr><th>Name</th><th>Description</th><th>Operations</th></tr>
		</thead>
		<tbody>
		    {% for location in locations %}
		    <tr>
		    	<td>{{location.name}}</td>
		    	<td>{{location.description}}</td>
		    	<td>
		    		<div class="btn-toolbar">
					  <div class="btn-group">
					  	<button type="button" class="btn btn-default add_path" data-location="{{location.id}}">
  							<span class="glyphicon glyphicon-hdd" aria-hidden="true"></span>
						</button>
					  </div>
					</div>
			    </td>
		    </tr>
		    {% endfor %}
		</tbody>
	</table>


	{% else %}
	    <p>No Locations are available.</p>
	{% endif %}
{% endblock %}

